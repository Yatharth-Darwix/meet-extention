/* ===============================
   Figma Frame 616 Design Styles
   =============================== */
/* Design Tokens */
:root {
  --assist-width: 416px;
  --assist-radius: 16px;
  --assist-body-bg: #515153; /* Panel body */
  --assist-header-bg: #FFFFFF; /* Header + tabs area */
  --assist-tab-height: 40px;
  --assist-header-height: 56px;
  --assist-text-dark: #222325;
  --assist-text-light: #FFFFFF;
  --assist-text-mid: #E8E9EB;
  --assist-text-dim: #C5C6CB;
  --assist-border: #E4E6EB;
  --assist-border-subtle: #D2D4DA;
  --assist-shadow: 0 4px 16px rgba(0,0,0,0.18);
  --assist-suggestion-bg: #FFFFFF;
  --assist-suggestion-shadow: 0px 2px 4px rgba(0,0,0,0.08), 0 6px 18px -4px rgba(0,0,0,0.12);
  --assist-bar-purple: #883BEC;
  --assist-bar-green: #28C397;
  --assist-accent: #883BEC;
  --assist-focus-ring: 0 0 0 3px rgba(136,59,236,0.35);
  font-family: 'Inter','Manrope','Roboto','Segoe UI',system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
}

/* Container */
.agent-assist-sidebar {
  position: fixed;
  top: 0; /* filled to top */
  right: 0;
  width: var(--assist-width);
  height: 100vh; /* reduced via JS */
  display: flex;
  flex-direction: column;
  z-index: 10000;
      transition: transform .22s ease, opacity .22s ease, top .2s ease, height .2s ease, background-color .3s ease;
    background: #fff;
  border-top-left-radius: var(--assist-radius);
  border-bottom-left-radius: var(--assist-radius);
  overflow: hidden;
  background: var(--assist-body-bg);
  box-shadow: var(--assist-shadow);
  color: var(--assist-text-light);
  font-size: 14px;
  line-height: 1.4;
  transform: translateX(8px);
  opacity: 0;
  pointer-events: none;
  transition: transform .22s ease, opacity .22s ease, top .2s ease, height .2s ease;
}
.agent-assist-sidebar.is-visible { opacity: 1; pointer-events: auto; }

/* Header */
.agent-assist-sidebar.transparent .agent-assist-brand {
    color: rgba(0, 0, 0, 0.8);
}
.agent-assist-header {
  height: var(--assist-header-height);
  background: var(--assist-header-bg);
  display: flex;
  align-items: center;
  padding: 0 25px;
  font-weight: 600;
  font-size: 18px;
  letter-spacing: .2px;
  color: var(--assist-text-dark);
  border-bottom: 1px solid var(--assist-border);
}
.agent-assist-brand { user-select: none; }

.agent-assist-sidebar.transparent .agent-assist-tabs {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(8px);
}
.agent-assist-sidebar.transparent .agent-assist-header {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(8px);
}
/* Tabs */
.agent-assist-sidebar.transparent .transparency-toggle {
    color: rgba(0, 0, 0, 0.7);
}

.agent-assist-sidebar.transparent .transparency-toggle:hover {
    background: rgba(243, 244, 246, 0.8);
}

.agent-assist-sidebar.transparent .transparency-toggle.active {
    background: rgba(240, 233, 251, 0.8);
    color: rgb(107, 109, 114);
}
.agent-assist-tabs {
      transition: background-color 0.3s ease;
    background: #fff;
  display: flex;
  background: var(--assist-header-bg);
  border-bottom: 1px solid var(--assist-border);
  position: relative;
  padding: 0 8px;
  gap: 4px;
}
.agent-assist-tablist { display:flex; flex:1; }
.agent-assist-tab {
  appearance: none;
  background: none;
  border: none;
  height: var(--assist-tab-height);
  padding: 0 12px;
  font: 600 13px/1 'Inter','Manrope',sans-serif;
  color: #6B6D72;
  cursor: pointer;
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  transition: background .18s ease,color .18s ease;
}
.agent-assist-tab:hover { background: #F3F4F6; color: #2E3033; }
.agent-assist-tab[aria-selected="true"] { background: #F0E9FB; color: rgb(107, 109, 114); }
.agent-assist-tab:focus-visible { outline: none; box-shadow: var(--assist-focus-ring); }
.agent-assist-tab-underline { display:none; }

.aa-status-dot { width:10px; height:10px; background: var(--assist-bar-green); border-radius:50%; align-self:center; margin-right:4px; box-shadow:0 0 0 2px #fff; }
.aa-status-dot.live { animation: aaPulse 1.9s infinite; }
@keyframes aaPulse { 0%{box-shadow:0 0 0 2px #fff,0 0 0 0 rgba(40,195,151,0.5);} 70%{box-shadow:0 0 0 2px #fff,0 0 0 14px rgba(40,195,151,0);} 100%{box-shadow:0 0 0 2px #fff,0 0 0 0 rgba(40,195,151,0);} }

/* Scrollable body */
.agent-assist-content { flex:1; overflow-y:auto; padding: 20px 22px 28px; scroll-behavior:smooth; }
.agent-assist-content::-webkit-scrollbar { width:8px; }
.agent-assist-content::-webkit-scrollbar-track { background: rgba(255,255,255,0.08); }
.agent-assist-content::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.28); border-radius:4px; }
.agent-assist-content::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.42); }

/* Suggestion List */
.aa-suggestions { display:flex; flex-direction:column; gap:14px; }
.aa-suggestion {
  position:relative;
  background: var(--assist-suggestion-bg);
  color: #2E3033;
  padding: 14px 16px 16px 18px;
  border-radius: 12px;
  font-size: 14px;
  line-height: 1.45;
  box-shadow: var(--assist-suggestion-shadow);
}
.aa-suggestion:before { content:""; position:absolute; left:0; top:0; bottom:0; width:6px; border-top-left-radius:12px; border-bottom-left-radius:12px; background: var(--assist-bar-purple); }
.aa-suggestion.bar-green:before { background: var(--assist-bar-green); }

/* Transcript Entries */
.aa-transcript-entry { position:relative; background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.1); padding:12px 14px 12px 16px; border-radius:12px; margin-bottom:12px; }
.aa-transcript-speaker { font-size:11px; letter-spacing:.5px; font-weight:700; text-transform:uppercase; color: var(--assist-bar-purple); margin-bottom:4px; }
.aa-transcript-text { font-size:13px; color: var(--assist-text-mid); }
.aa-transcript-time { font-size:11px; color: var(--assist-text-dim); margin-top:6px; }

/* Score Cards (reuse suggestion visuals) */
.aa-card { background:#FFFFFF; box-shadow: var(--assist-suggestion-shadow); border-radius:14px; padding:16px 18px 18px 20px; color:#2E3033; margin-bottom:18px; position:relative; }
.aa-card:before { content:""; position:absolute; left:0; top:0; bottom:0; width:6px; border-top-left-radius:14px; border-bottom-left-radius:14px; background: var(--assist-bar-green); }
.aa-card.accent-positive:before { background: var(--assist-bar-green); }
.aa-meta { font-size:11px; font-weight:600; color:#6D6F74; letter-spacing:.4px; margin-bottom:8px; text-transform:uppercase; }
.aa-title { font-size:15px; font-weight:600; margin:0 0 10px; color:#1E2023; }
.aa-pill { display:inline-block; background: var(--assist-bar-green); color:#fff; font-size:11px; padding:4px 8px 5px; border-radius:999px; margin-left:8px; font-weight:600; letter-spacing:.3px; }
.aa-body { font-size:14px; color:#383A3F; line-height:1.5; margin:0 0 16px; }
.aa-subtitle { font-size:13px; font-weight:600; margin:0 0 8px; color:#25272B; }
.aa-bullets { list-style:none; margin:0 0 16px; padding:0; }
.aa-bullets li { position:relative; padding-left:14px; font-size:13px; color:#3F4146; margin-bottom:6px; }
.aa-bullets li:before { content:"â€¢"; position:absolute; left:0; top:0; color: var(--assist-bar-purple); }
.aa-link { font-size:12px; text-decoration:none; color: var(--assist-bar-purple); font-weight:600; }
.aa-link:hover { text-decoration:underline; }

/* History */
.aa-history-item { background:#fff; border-radius:12px; padding:14px 18px 16px 20px; box-shadow: var(--assist-suggestion-shadow); margin-bottom:14px; color:#2F3135; position:relative; }
.aa-history-item:before { content:""; position:absolute; left:0; top:0; bottom:0; width:6px; border-top-left-radius:12px; border-bottom-left-radius:12px; background: var(--assist-bar-purple); }
.aa-history-date { font-size:11px; color:#6D6F74; margin-bottom:6px; font-weight:600; letter-spacing:.3px; }
.aa-history-title { font-size:14px; font-weight:600; margin:0 0 4px; }
.aa-history-participants { font-size:13px; color:#44464B; }

/* Coaching Tips */
.aa-coach-tip { background:#fff; border-radius:12px; padding:14px 18px 16px 20px; box-shadow: var(--assist-suggestion-shadow); margin-bottom:16px; color:#2E3033; position:relative; }
.aa-coach-tip:before { content:""; position:absolute; left:0; top:0; bottom:0; width:6px; border-top-left-radius:12px; border-bottom-left-radius:12px; background: linear-gradient(180deg,#FFA726,#FB8C00); }
.aa-coach-category { font-size:10px; font-weight:700; letter-spacing:.6px; color:#FB8C00; text-transform:uppercase; margin-bottom:6px; }
.aa-coach-title { font-size:14px; font-weight:600; margin:0 0 6px; }
.aa-coach-body { font-size:13px; line-height:1.5; color:#404247; }

/* Empty state */
.aa-empty { text-align:center; padding:64px 24px 72px; color: var(--assist-text-dim); }
.aa-empty-icon { font-size:46px; line-height:1; margin-bottom:18px; opacity:.9; }
.aa-empty-title { font-size:16px; font-weight:600; margin:0 0 10px; color:#fff; }
.aa-empty-desc { font-size:14px; line-height:1.55; }

/* Chat (Coach) */
.aa-coach-layout { display:flex; flex-direction:column; gap:12px; height:100%; }
.aa-coach-tips-scroll { max-height:45%; overflow-y:auto; padding-right:4px; }
.aa-coach-chat { display:flex; flex-direction:column; flex:1; min-height:0; }
.aa-coach-mode .aa-coach-chat { margin-top:auto; }
.aa-chat-messages { flex:1; overflow-y:auto; display:flex; flex-direction:column; gap:10px; padding-bottom:8px; }
.aa-msg { max-width:80%; padding:10px 14px 12px; border-radius:14px; font-size:13px; line-height:1.45; position:relative; word-break:break-word; }
.aa-msg.user { margin-left:auto; background:#FFFFFF; color:#1F2023; box-shadow: var(--assist-suggestion-shadow); }
.aa-msg.assistant { background:rgba(255,255,255,0.12); color: var(--assist-text-mid); backdrop-filter: blur(2px); }
.aa-chat-input-row { display:flex; gap:8px; margin-top:14px; }
.aa-chat-input-row input { flex:1; background:#FFFFFF; border:1px solid var(--assist-border-subtle); border-radius:12px; padding:10px 14px; font:500 13px 'Inter',sans-serif; color:#26282B; }
.aa-chat-input-row input:focus { outline:none; box-shadow: var(--assist-focus-ring); }
.aa-chat-input-row button { background: black; color:#fff; border:none; padding:0 18px; font:600 13px 'Inter',sans-serif; border-radius:12px; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; transition: background .18s ease; }
.aa-chat-input-row button:hover { background:#d0cad8; }
.aa-chat-input-row button:focus-visible { outline:none; box-shadow: var(--assist-focus-ring); }

/* Toggle Button */
.agent-assist-toggle { position:fixed; top:50%; right:16px; transform:translateY(-50%); width:48px; height:48px; border-radius:50%; background: var(--assist-bar-purple); border:none; color:#fff; font-size:20px; cursor:pointer; z-index:10001; box-shadow:0 4px 16px rgba(0,0,0,0.35); display:flex; align-items:center; justify-content:center; transition: background .22s ease, transform .22s ease; }
.agent-assist-toggle:hover { transform:translateY(-50%) scale(1.07); }
.agent-assist-toggle.active { background: var(--assist-bar-green); }
.agent-assist-toggle:focus-visible { outline:none; box-shadow: var(--assist-focus-ring); }

/* Accessibility utility */
.aa-visually-hidden { position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }

.transparency-toggle {
  background: none;
  border: none;
  width: 32px;
  height: 32px;
  padding: 6px;
  border-radius: 6px;
  cursor: pointer;
  color: #6B6D72;
  margin-left: auto;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s, color 0.2s;
}

.transparency-toggle:hover {
  background: #F3F4F6;
  color: #2E3033;
}

.transparency-toggle.active {
  background: #F0E9FB;
  color: rgb(107, 109, 114);
}

/* Add draggable cursor */
.agent-assist-header {
      transition: background-color 0.3s ease;
    background: #fff;
  cursor: move;
  cursor: grab;
}

.agent-assist-header:active {
  cursor: grabbing;
}

/* Add transparency transition */
.agent-assist-sidebar {
  transition: transform .22s ease, opacity .22s ease, top .2s ease, height .2s ease, background-color .3s ease;
}

.agent-assist-sidebar.transparent {
  background-color: rgba(81, 81, 83, 0.6);
  backdrop-filter: blur(8px);
}
.agent-assist-sidebar.transparent .agent-assist-header {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(8px);
}
.agent-assist-sidebar.transparent .aa-suggestion,
.agent-assist-sidebar.transparent .aa-card,
.agent-assist-sidebar.transparent .aa-history-item,
.agent-assist-sidebar.transparent .aa-coach-tip {
  background-color: rgba(255, 255, 255, 0.8);
}

/* Animation helpers */
.fade-in { animation:fadeIn .3s ease; }
@keyframes fadeIn { from{opacity:0; transform:translateY(4px);} to{opacity:1; transform:translateY(0);} }

/* Responsive safeguard (if window gets smaller) */
@media (max-width: 1400px) {
  .agent-assist-toggle { right:8px; }
  .agent-assist-sidebar { width: 380px; }
}
